<!DOCTYPE html>
<html>
  <head>
    <title>Introducción a la programación en R</title>
    <meta charset="utf-8">
    <meta name="author" content="Gabriela Mathieu   Escuela de invierno   Taller 15 de julio de 2019" />
    <link href="Vectores_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="Vectores_files/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introducción a la programación en R<br><br> <img src="img/Rlogo.png" style="width:8.0%" />   <img src="img/RStudio-Logo-Flat.png" style="width:18.0%" />
### Gabriela Mathieu<br> <span style="font-size: 80%;"> Escuela de invierno <br> Taller 15 de julio de 2019<br><br> </span>
### <img src="img/cc-by-sa.png" title="fig:" />

---

# Vectores

- Los vectores son la estructura más básica que tenemos para manejar datos en R. 
&lt;br&gt;

- Un escalar también es un vector para R. 
&lt;br&gt;

- Es un tipo de objeto de R. Pero otros objetos están compuestos por vectores: las columnas o filas de una matriz, las variables en un data.frame o una lista, etc. 
&lt;br&gt;

- Comprender cómo se trabaja con un vector en R es fundamental para entender la lógica de R.
&lt;br&gt;

- En este apartado veremos cómo los vectores trabajan con operadores y funciones, y qué significa la 'vectorización'.

---
# Vectores

- Un vector es una colección de uno o más objetos del mismo tipo (números o caracteres pero no ambos).


```r
digit &lt;- 1:9
digit
```

```
## [1] 1 2 3 4 5 6 7 8 9
```
--

- A diferencia de otros lenguajes los vectores no son fila o columna, sino una secuencia de valores.

```r
dim(digit)
```

```
## NULL
```
--

- Pero si tienen largo que da cuenta de la cantidad de elementos.

```r
length(digit)
```

```
## [1] 9
```

---
# Crear un vector

- Existen varias formas de hacer un vector en R. 
&lt;br&gt;
--

- El operador **:** crea una secuencia de números enteros consecutivos

```r
# secuencia del 0 al 10
0:10  
```

```
##  [1]  0  1  2  3  4  5  6  7  8  9 10
```

```r
# secuencia del 10 al -2
10:-2 
```

```
##  [1] 10  9  8  7  6  5  4  3  2  1  0 -1 -2
```

---
# c()

- La función *c()* permite concatenar elementos individuales (ej. números) para crear un vector


```r
x &lt;- c(1, 3, 7) 
# No es recomendable asignar el nombre 'c' 
# a objetos, para evitar confusiones.
```
--

- También se pueden concatenar vectores y el resultado será un nuevo vector.

```r
# concateno el vector x con el vector x
y &lt;- c(x, x)
y
```

```
## [1] 1 3 7 1 3 7
```

```r
# concateno dos vectores 
z &lt;- c(0:5, 11:16)
z
```

```
##  [1]  0  1  2  3  4  5 11 12 13 14 15 16
```

---
# Coerción

- Como mencionamos anteriormente, estos elementos deben ser todos del mismo tipo. 
&lt;br&gt;
--

- Si se concatenan objetos de diferentes tipos, R reasigna los elementos a la clase apropiada. Por ejemplo si concatenamos elementos numéricos y caracteres:


```r
x &lt;- c(41, "R", 7)
class(x)
```

```
## [1] "character"
```
--

- Siempre que un vector contenga números y texto el vector será de clase "character" y todos sus elementos serán texto.


```r
x
```

```
## [1] "41" "R"  "7"
```
- La coerción es necesaria para el funcionamiento correcto de R.
&lt;br&gt;
--
- Al mismo tiempo puede ser una fuente de errores si no se tiene en cuenta.

---
# rep()

- La función rep() repite 'n' veces un valor o un vector. 


```r
rep('domingo', 7)
```

```
## [1] "domingo" "domingo" "domingo" "domingo" "domingo" "domingo" "domingo"
```

```r
rep(c("x", "y", "z"), 2)
```

```
## [1] "x" "y" "z" "x" "y" "z"
```
--

- Se puede indicar que repita un vector cada tantos elementos


```r
rep(c("x", "y", "z"), each = 2)
```

```
## [1] "x" "x" "y" "y" "z" "z"
```

---
# seq()

- La función seq() genera secuencias de valores consecutivos que pueden ser enteros o decimales.
--

- El argumento **'by'** permite definir la diferencia entre cada valor: 


```r
# reales entre 0 y 1 cada 0.1
seq(0, 1, by = 0.1)
```

```
##  [1] 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0
```
--

- El argumento **'length'** la cantidad de elementos del vector:


```r
# reales entre 0 y 1 de largo 11
seq(0, 1, length = 11)
```

```
##  [1] 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0
```

```r
# se puede escribir simplemente 'len'
seq(0, 1, len = 11)
```

```
##  [1] 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0
```



---
# Clases de vectores

- Las clases posibles de los vectores son 5: 
&lt;br&gt;
--

- 'integer'

```r
x &lt;- 1:10
class(x) # enteros
```

```
## [1] "integer"
```
--

- 'numeric'

```r
x &lt;- seq(11, 15, by=0.1)
class(x) # numeric
```

```
## [1] "numeric"
```
&lt;br&gt;
--

- 'character'

```r
abc &lt;- letters
class(abc)
```

```
## [1] "character"
```
&lt;br&gt;
--

-  'logical'

```r
x &gt; 12
```

```
##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
## [12]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
## [23]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
## [34]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
```

```r
class(x) # valores lógicos: TRUE o FALSE
```

```
## [1] "numeric"
```
&lt;br&gt;
--

- 'complex'

```r
x &lt;- 1:4 + 1i
class(x) 
```

```
## [1] "complex"
```

---
# Acceder a elementos por posición

- Los paréntesis rectos se utilizan para especificar elementos de un vector, usando índices, los cuales deben ser números enteros. 
--

- Para acceder al elemento i-ésimo de x escribimos x[i]. 


```r
x &lt;- 10:15
# acceder al tercer elemento
x[3]
```

```
## [1] 12
```
--

- Es posible acceder a varios elementos, si son consecutivos indicando la secuencia, de lo contrario, concatenando valores.

```r
x[2:4]
```

```
## [1] 11 12 13
```

```r
x[c(1, 2, 5)]
```

```
## [1] 10 11 14
```
--

- Podemos acceder a elementos de un vector en un orden diferente al que se ubican en él.


```r
x[6:1] # es equivalente a rev(x)
```

```
## [1] 15 14 13 12 11 10
```

---
# Acceder a elementos

- Si indicamos con signo de menos uno o varios índices, nos devolverá los elementos de los índices complementarios


```r
x[-1]
```

```
## [1] 11 12 13 14 15
```

```r
x[-(1:4)] # es equivalente a x[-1:-4]
```

```
## [1] 14 15
```
---
# Acceder a elementos según una condición

- La función which() sirve para saber los índices de los elementos del vector
que cumplen una determinada condición:

```r
which(x &gt; 11) # elementos x mayores a 1
```

```
## [1] 3 4 5 6
```
--

- Alternativamente, se puede indicar la condición dentro de los paréntesis rectos:

```r
x[x &gt; 11] # elementos de x mayores a 11
```

```
## [1] 12 13 14 15
```

---
# Vectores aleatorios

- Valores aleatorios de un variable aleatoria normal de media 0 y desvío estándar 1.


```r
rnorm(5)
```

```
## [1]  0.5065925  0.7492172  1.3341403  0.7947572 -1.6663751
```
- Muestra aleatoria sin reemplazo de un vector 'character'


```r
x &lt;- letters
sample(x, 10, replace = FALSE)
```

```
##  [1] "d" "j" "i" "e" "q" "m" "h" "u" "g" "a"
```

- Muestra aleatoria con reemplazo de un vector 'character'


```r
x &lt;- letters
sample(x, 10, replace = TRUE)
```

```
##  [1] "p" "z" "d" "a" "f" "c" "z" "k" "q" "v"
```

---
# Modificar vectores

- Así como accedemos a ciertos elementos de un vector, podemos modificarlos utilizando el operador asignar '&lt;-'.


```r
x[1:2] &lt;- c(30, 40)
x
```

```
##  [1] "30" "40" "c"  "d"  "e"  "f"  "g"  "h"  "i"  "j"  "k"  "l"  "m"  "n" 
## [15] "o"  "p"  "q"  "r"  "s"  "t"  "u"  "v"  "w"  "x"  "y"  "z"
```
--

- Si especificamos 2 elementos pero le asignamos solo 1, R reciclará el valor y lo usará para ambas asignaciones


```r
x[1:2] &lt;- 30
x
```

```
##  [1] "30" "30" "c"  "d"  "e"  "f"  "g"  "h"  "i"  "j"  "k"  "l"  "m"  "n" 
## [15] "o"  "p"  "q"  "r"  "s"  "t"  "u"  "v"  "w"  "x"  "y"  "z"
```

---
# Operaciones con vectores

- R vectoriza las operaciones de manera que si sumo un número a un vector, a cada elemento del vector le sumará ese número.


```r
x &lt;- -1:4
x + 5 # adiciono 5
```

```
## [1] 4 5 6 7 8 9
```

```r
x * 3 # multiplico por 3
```

```
## [1] -3  0  3  6  9 12
```

```r
x ^ 2
```

```
## [1]  1  0  1  4  9 16
```

```r
abs(x)
```

```
## [1] 1 0 1 2 3 4
```

```r
sin(x)*pi # seno de x multiplicado por pi 
```

```
## [1] -2.6435591  0.0000000  2.6435591  2.8566421  0.4433416 -2.3775652
```

- Esta propiedad es una ventaja ya que permite evitar loops en un sinnúmero de situaciones y de esta manera se obtiene un código más 'limpio' y eficiente.

---
# Funciones descriptivas de un vector numérico

- length(x): devuelve la cantidad de elementos de x
&lt;br&gt;
--

- sort(x, decreasing = F): ordena los elementos de manera creciente 
&lt;br&gt;
--

- sum(x): devuelve la suma de los elementos de x
&lt;br&gt;
--

- prod(x): productoria de los elementos de x
&lt;br&gt;
--

- factorial(x): número factorial de x
&lt;br&gt;
--

- max(x)
&lt;br&gt;
--

- min(x)

---
# Funciones descriptivas de un vector numérico

- mean(x): promedio aritmético de x
&lt;br&gt;
--

- median(x): mediana de x
&lt;br&gt;
--

- sd(x): desvío estándar de x
&lt;br&gt;
--

- var(x): varianza de x
&lt;br&gt;
--

- summary(x): resumen descriptivo de x (mínimo, máximo, media, mediana, cuartiles)
&lt;br&gt;
--

- quantile(x, c(0.2,0.4,0.6,0.8)): cuantiles
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
