---
title: "Introducción a la programación en R<br><br>
![](img/Rlogo.png){ width=8% } &nbsp; ![](img/RStudio-Logo-Flat.png){ width=18% }"
author: "Gabriela Mathieu<br>
<span style = 'font-size: 80%;'>
Escuela de invierno <br>
Taller 15 de julio de 2019<br><br>
</span>"
date: '
![](img/cc-by-sa.png)'

output: 
  xaringan::moon_reader:
    css: [default, default-fonts, custom.css]
    nature:
      highlightStyle: github
      highlightLines: true
---
# Vectores

- Los vectores son la estructura más básica que tenemos para manejar datos en R. 
<br>

- Un escalar también es un vector para R. 
<br>

- Es un tipo de objeto de R. Pero otros objetos están compuestos por vectores: las columnas o filas de una matriz, las variables en un data.frame o una lista, etc. 
<br>

- Comprender cómo se trabaja con un vector en R es fundamental para entender la lógica de R.
<br>

- En este apartado veremos cómo los vectores trabajan con operadores y funciones, y qué significa la 'vectorización'.

---
# Vectores

- Un vector es una colección de uno o más objetos del mismo tipo (números o caracteres pero no ambos).

```{r}
digit <- 1:9
digit
```
--

- A diferencia de otros lenguajes los vectores no son fila o columna, sino una secuencia de valores.
```{r}
dim(digit)
```
--

- Pero si tienen largo que da cuenta de la cantidad de elementos.
```{r}
length(digit)
```

---
# Crear un vector

- Existen varias formas de hacer un vector en R. 
<br>
--

- El operador **:** crea una secuencia de números enteros consecutivos
```{r}
# secuencia del 0 al 10
0:10  
# secuencia del 10 al -2
10:-2 
```

---
# c()

- La función *c()* permite concatenar elementos individuales (ej. números) para crear un vector

```{r}
x <- c(1, 3, 7) 
# No es recomendable asignar el nombre 'c' 
# a objetos, para evitar confusiones.
```
--

- También se pueden concatenar vectores y el resultado será un nuevo vector.
```{r}
# concateno el vector x con el vector x
y <- c(x, x)
y
# concateno dos vectores 
z <- c(0:5, 11:16)
z
```

---
# Coerción

- Como mencionamos anteriormente, estos elementos deben ser todos del mismo tipo. 
<br>
--

- Si se concatenan objetos de diferentes tipos, R reasigna los elementos a la clase apropiada. Por ejemplo si concatenamos elementos numéricos y caracteres:

```{r}
x <- c(41, "R", 7)
class(x)
```
--

- Siempre que un vector contenga números y texto el vector será de clase "character" y todos sus elementos serán texto.

```{r}
x
```
- La coerción es necesaria para el funcionamiento correcto de R.
<br>
--
- Al mismo tiempo puede ser una fuente de errores si no se tiene en cuenta.

---
# rep()

- La función rep() repite 'n' veces un valor o un vector. 

```{r}
rep('domingo', 7)
rep(c("x", "y", "z"), 2)
```
--

- Se puede indicar que repita un vector cada tantos elementos

```{r}
rep(c("x", "y", "z"), each = 2)
```

---
# seq()

- La función seq() genera secuencias de valores consecutivos que pueden ser enteros o decimales.
--

- El argumento **'by'** permite definir la diferencia entre cada valor: 

```{r}
# reales entre 0 y 1 cada 0.1
seq(0, 1, by = 0.1)
```
--

- El argumento **'length'** la cantidad de elementos del vector:

```{r}
# reales entre 0 y 1 de largo 11
seq(0, 1, length = 11)
# se puede escribir simplemente 'len'
seq(0, 1, len = 11)
```



---
# Clases de vectores

- Las clases posibles de los vectores son 5: 
<br>
--

- 'integer'
```{r}
x <- 1:10
class(x) # enteros
```
--

- 'numeric'
```{r}
x <- seq(11, 15, by=0.1)
class(x) # numeric
```
<br>
--

- 'character'
```{r}
abc <- letters
class(abc)
```
<br>
--

-  'logical'
```{r}
x > 12
class(x) # valores lógicos: TRUE o FALSE
```
<br>
--

- 'complex'
```{r}
x <- 1:4 + 1i
class(x) 
```

---
# Acceder a elementos por posición

- Los paréntesis rectos se utilizan para especificar elementos de un vector, usando índices, los cuales deben ser números enteros. 
--

- Para acceder al elemento i-ésimo de x escribimos x[i]. 

```{r}
x <- 10:15
# acceder al tercer elemento
x[3]
```
--

- Es posible acceder a varios elementos, si son consecutivos indicando la secuencia, de lo contrario, concatenando valores.
```{r}
x[2:4]
x[c(1, 2, 5)]
```
--

- Podemos acceder a elementos de un vector en un orden diferente al que se ubican en él.

```{r}
x[6:1] # es equivalente a rev(x)
```

---
# Acceder a elementos

- Si indicamos con signo de menos uno o varios índices, nos devolverá los elementos de los índices complementarios

```{r}
x[-1]
x[-(1:4)] # es equivalente a x[-1:-4]
```
---
# Acceder a elementos según una condición

- La función which() sirve para saber los índices de los elementos del vector
que cumplen una determinada condición:
```{r}
which(x > 11) # elementos x mayores a 1
```
--

- Alternativamente, se puede indicar la condición dentro de los paréntesis rectos:
```{r}
x[x > 11] # elementos de x mayores a 11
```

---
# Vectores aleatorios

- Valores aleatorios de un variable aleatoria normal de media 0 y desvío estándar 1.

```{r}
rnorm(5)
```
- Muestra aleatoria sin reemplazo de un vector 'character'

```{r}
x <- letters
sample(x, 10, replace = FALSE)
```

- Muestra aleatoria con reemplazo de un vector 'character'

```{r}
x <- letters
sample(x, 10, replace = TRUE)
```

---
# Modificar vectores

- Así como accedemos a ciertos elementos de un vector, podemos modificarlos utilizando el operador asignar '<-'.

```{r}
x[1:2] <- c(30, 40)
x
```
--

- Si especificamos 2 elementos pero le asignamos solo 1, R reciclará el valor y lo usará para ambas asignaciones

```{r}
x[1:2] <- 30
x
```

---
# Operaciones con vectores

- R vectoriza las operaciones de manera que si sumo un número a un vector, a cada elemento del vector le sumará ese número.

```{r}
x <- -1:4
x + 5 # adiciono 5
x * 3 # multiplico por 3
x ^ 2
abs(x)
sin(x)*pi # seno de x multiplicado por pi 
```

- Esta propiedad es una ventaja ya que permite evitar loops en un sinnúmero de situaciones y de esta manera se obtiene un código más 'limpio' y eficiente.

---
# Funciones descriptivas de un vector numérico

- length(x): devuelve la cantidad de elementos de x
<br>
--

- sort(x, decreasing = F): ordena los elementos de manera creciente 
<br>
--

- sum(x): devuelve la suma de los elementos de x
<br>
--

- prod(x): productoria de los elementos de x
<br>
--

- factorial(x): número factorial de x
<br>
--

- max(x)
<br>
--

- min(x)

---
# Funciones descriptivas de un vector numérico

- mean(x): promedio aritmético de x
<br>
--

- median(x): mediana de x
<br>
--

- sd(x): desvío estándar de x
<br>
--

- var(x): varianza de x
<br>
--

- summary(x): resumen descriptivo de x (mínimo, máximo, media, mediana, cuartiles)
<br>
--

- quantile(x, c(0.2,0.4,0.6,0.8)): cuantiles 








